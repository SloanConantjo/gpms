extends professor 

block content
  h1 我的课题
  a(href='/prof/topic/post' type='button' class='btn btn-primary pull-right') 发布课题

  table(class='table table-striped table-hover')
    thead
      tr
        th topicId
        th topicName
        th postDate
        th State
        th members
        th grades
        th operate
    thbody
      each acc in data
        tr
          th #{acc[0]}
          th #{acc[1]}
          th #{acc[2]}
          th #{acc[3]}
          th #{acc[4]}
          th #{acc[5]}
          th
            span(class="btn" onclick=`editTopic('${acc[0]}')`)
              img(src='/image/edit.png')
            span(class="btn" onclick=`deleteTopic('${acc[0]}')`)
              img(src='/image/delete.png')

  script.
    function deleteTopic(topicId) {
      fetch(`topic/${topicId}`, {
        method: 'DELETE',
      })
      .then((response) => {
        if (response.ok) {
          window.location.reload();
        }
      })
      .catch((error) => {
      });
    }
